<nav-administrativo></nav-administrativo>

<div class="ml-64 min-h-screen bg-gradient-to-br from-green-100 to-green-200 p-8">

  <div class="max-w-7xl mx-auto space-y-10">

    <!-- HEADER -->
    <header class="flex flex-col md:flex-row justify-between items-start md:items-center bg-white p-6 rounded-2xl shadow border border-green-700">
      <div>
        <h2 class="text-3xl font-extrabold text-green-800 flex items-center gap-2">
          Reportes Generales
        </h2>
        <p class="text-gray-600 mt-1">
          Panel administrativo de estad√≠sticas del sistema de proyectos
        </p>
      </div>

      <span class="mt-4 md:mt-0 px-4 py-2 text-sm font-semibold bg-green-100 text-green-800 rounded-full">
        Total de proyectos: {{ totalProyectos }}
      </span>
    </header>


    <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ INDICADORES -->
    <section class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-5">

      <div class="card">
        üìÅ
        <p class="text-lg">Proyectos</p>
        <span class="text-3xl text-green-700">{{ totalProyectos }}</span>
      </div>

      <div class="card bg-green-50">
        ‚úÖ
        <p class="text-lg">Activos</p>
        <span class="text-3xl text-green-700">{{ activos }}</span>
      </div>

      <div class="card bg-yellow-50">
        ‚è∏Ô∏è
        <p class="text-lg">Inactivos</p>
        <span class="text-3xl text-yellow-600">{{ inactivos }}</span>
      </div>

      <div class="card bg-blue-50">
        üéì
        <p class="text-lg">Graduados</p>
        <span class="text-3xl text-blue-700">{{ graduados }}</span>
      </div>

      <div class="card bg-gray-50">
        ‚ùî
        <p class="text-lg">Sin estado</p>
        <span class="text-3xl text-gray-700">{{ sinEstado }}</span>
      </div>

    </section>


    <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ GRILLA DE PANELES -->
    <section class="grid grid-cols-1 lg:grid-cols-2 gap-8">

      <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ESTUDIANTES -->
      <div class="panel">

        <h3 class="text-lg">üë®‚Äçüéì Participantes</h3>

        <div class="flex gap-4 text-sm font-medium mb-4">
          <span class="px-3 py-1 rounded-full bg-green-100 text-green-700">
            UPCistas: {{ totalUPCistas }}
          </span>

          <span class="px-3 py-1 rounded-full bg-blue-100 text-blue-700">
            Egresados: {{ totalEgresados }}
          </span>

          <span class="px-3 py-1 rounded-full bg-purple-100 text-purple-700">
            Externos: {{ totalExternos }}
          </span>
        </div>

        <table class="w-full border-collapse text-sm">
          <thead>
            <tr class="bg-green-50 text-green-800">
              <th class="p-2 border">Programa acad√©mico</th>
              <th class="p-2 border text-center">Total estudiantes</th>
            </tr>
          </thead>

          <tbody>
            @for (p of proyectosPorPrograma | keyvalue; track p.key) {
              <tr class="hover:bg-gray-50">
                <td class="p-2 border">{{ p.key }}</td>
                <td class="p-2 border text-center font-semibold">
                  {{ p.value }}
                </td>
              </tr>
            }
          </tbody>
        </table>

      </div>


      <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ TIPOS -->
      <div class="panel">

        <h3 class="text-lg">üë• Tipo de participaci√≥n</h3>

        <table class="w-full border-collapse text-sm mt-3">
          <thead>
            <tr class="bg-green-50 text-green-800">
              <th class="p-2 border">Tipo</th>
              <th class="p-2 border text-center">Cantidad</th>
            </tr>
          </thead>

          <tbody>
            @for (t of participantesPorTipo | keyvalue; track t.key) {
              <tr class="hover:bg-gray-50">
                <td class="p-2 border">{{ t.key }}</td>
                <td class="p-2 border text-center font-semibold">
                  {{ t.value }}
                </td>
              </tr>
            }
          </tbody>
        </table>

      </div>


      <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ DOCENTES -->
      <div class="panel lg:col-span-2">

        <h3 class="text-lg">üë®‚Äçüè´ Docentes asignados</h3>

        <p class="text-sm mb-4">
          Total docentes activos:
          <b class="text-green-700">{{ totalDocentes }}</b>
        </p>

        @if(totalDocentes === 0){
          <p class="italic text-gray-500">
            No se han asignado docentes todav√≠a.
          </p>
        }

        <table class="w-full border-collapse text-sm">
          <thead>
            <tr class="bg-green-50 text-green-800">
              <th class="p-2 border">Programa</th>
              <th class="p-2 border text-center">Docentes asignados</th>
            </tr>
          </thead>

          <tbody>
            @for (d of docentesPorPrograma | keyvalue; track d.key){
              <tr class="hover:bg-gray-50">
                <td class="p-2 border">{{ d.key }}</td>
                <td class="p-2 border text-center font-semibold">
                  {{ d.value }}
                </td>
              </tr>
            }
          </tbody>
        </table>

        <!-- EJEMPLO -->
        <div class="mt-6">
          <h4 class="font-semibold text-sm mb-2 text-gray-700">
            Docentes ejemplo
          </h4>

          <table class="w-full text-sm border-collapse">
            <thead>
              <tr class="bg-gray-100">
                <th class="border p-2">Docente</th>
                <th class="border p-2">Correo</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="border p-2">Luis Mart√≠nez</td>
                <td class="border p-2">
                  lmartinez{{ arroba }}uni.edu
                </td>
              </tr>
            </tbody>
          </table>
        </div>

      </div>

    </section>

  </div>

</div>
